---
## Dynamic configuration
http:
  entryPoints:
  websecure:
    address: ":443"
  routers:
    concourse:
      rule: "Host(`{{ $DOMAIN:cicd.odl.mit.edu }}`) && Path(`/api/v1/info`)"
      tls:
        certResolver: myresolver
        acme:
        email: odl-devops@mit.edu
        storage: acme.json
        tlsChallenge:
  services:
    concourse-service:
      loadBalancer:
        servers:
        - url: "http://127.0.0.1:8080"
log:
  filePath: "/path/to/log-file.log"
  format: json
# In the CaddyFile, we had a line:
# tls /etc/caddy/odl_wildcard.cert /etc/caddy/odl_wildcard.key
# Do we need to replicate that here somehow?
