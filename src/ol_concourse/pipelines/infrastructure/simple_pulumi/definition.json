{
  "jobs": [
    {
      "name": "create-airbyte-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "airbyte"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-airbyte-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-airbyte",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-digital-credentials-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "digital-credentials"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-digital-credentials-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-digital-credentials",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-fastly-redirector-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "fastly-redirector"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-fastly-redirector-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-fastly-redirector",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-kubewatch-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "kubewatch"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-kubewatch-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-kubewatch",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-micromasters-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "micromasters"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-micromasters-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-micromasters",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-mongodb-atlas-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "mongodb-atlas"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-mongodb-atlas-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-mongodb-atlas",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-ocw-studio-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "ocw-studio"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-ocw-studio-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-ocw-studio",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-open-discussions-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "open-discussions"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-open-discussions-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-open-discussions",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-open-metadata-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "open-metadata"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-open-metadata-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-open-metadata",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-opensearch-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "opensearch"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-opensearch-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-opensearch",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-tika-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "tika"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-tika-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-tika",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-vector-log-proxy-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "vector-log-proxy"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-vector-log-proxy-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-vector-log-proxy",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "create-xpro-partner-dns-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/simple_pulumi_pipeline.py",
                "xpro-partner-dns"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-xpro-partner-dns-pipeline-file"
        },
        {
          "set_pipeline": "pulumi-xpro-partner-dns",
          "file": "pipeline/definition.json"
        }
      ]
    },
    {
      "name": "set-simple-pulumi-meta-pipeline",
      "plan": [
        {
          "trigger": true,
          "get": "simple-pulumi-pipeline-definitions"
        },
        {
          "config": {
            "image_resource": {
              "source": {
                "repository": "mitodl/ol-infrastructure",
                "tag": "latest"
              },
              "type": "registry-image"
            },
            "run": {
              "args": [
                "../simple-pulumi-pipeline-definitions/src/ol_concourse/pipelines/infrastructure/simple_pulumi/meta.py",
                "['airbyte', 'digital-credentials', 'fastly-redirector', 'kubewatch', 'micromasters', 'mongodb-atlas', 'ocw-studio', 'open-discussions', 'open-metadata', 'opensearch', 'tika', 'vector-log-proxy', 'xpro-partner-dns']"
              ],
              "user": "root",
              "path": "python",
              "dir": "pipeline"
            },
            "inputs": [
              {
                "name": "simple-pulumi-pipeline-definitions"
              }
            ],
            "platform": "linux",
            "outputs": [
              {
                "name": "pipeline"
              }
            ]
          },
          "task": "generate-simple-pulumi-meta-pipeline-file"
        },
        {
          "set_pipeline": "self",
          "file": "pipeline/definition.json"
        }
      ]
    }
  ],
  "resources": [
    {
      "name": "simple-pulumi-pipeline-definitions",
      "source": {
        "uri": "https://github.com/mitodl/ol-infrastructure",
        "branch": "main",
        "paths": [
          "src/ol_concourse/pipelines/infrastructure/simple_pulumi",
          "src/ol_concourse/lib",
          "src/ol_concourse/pipelines/constants.py"
        ],
        "fetch_tags": false
      },
      "check_every": "60s",
      "icon": "git",
      "type": "git"
    }
  ]
}
